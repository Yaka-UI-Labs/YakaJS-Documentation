@import "tailwindcss" theme(static);
@import "./search.css";
@import "./typography.css" layer(components);

@theme inline {
  --font-sans: var(--font-inter), system-ui;
  --font-source: var(--font-source-sans-pro), system-ui;
  --font-sans--font-feature-settings: "cv02", "cv03", "cv04", "cv11";
  --font-mono: var(--font-plex-mono), monospace;
  --font-mono--font-feature-settings: "ss02", "zero";
  --font-ubuntu-mono: var(--font-ubuntu-mono);
  
  /* Oatmeal Color Palette */
  --color-oatmeal-black: #0B0A08;
  --color-oatmeal-card: #141311;
  --color-oatmeal-white: #E7E5E4;
  --color-oatmeal-stone: #A8A29E;
  --color-oatmeal-olive: #2B2922;
  
  /* Yaka aliases for compatibility */
  --color-yaka-darkest: #0B0A08;
  --color-yaka-dark: #141311;
  --color-yaka-darker: #2B2922;
  --color-yaka-medium: #A8A29E;
  --color-yaka-medium-light: #A8A29E;
  --color-yaka-light: #E7E5E4;
  --color-yaka-lighter: #E7E5E4;
  --color-yaka-lightest: #FFFFFF;
  --color-yaka-accent: #E7E5E4;
  --color-yaka-accent-dark: #A8A29E;
}

@theme {
  --animate-flash-code: flash-code 2s forwards;

  @keyframes flash-code {
    0% {
      background-color: rgba(231, 229, 228, 0.1);
    }

    100% {
      background-color: rgba(231, 229, 228, 0);
    }
  }
}

:root {
  color-scheme: light dark;
  background-color: #0B0A08; /* Oatmeal black - primary background */
  color: #A8A29E; /* Oatmeal stone - body text */
}
.dark {
  color-scheme: dark;
  background-color: #0B0A08; /* Oatmeal black - primary background */
}
.light {
  color-scheme: light;
  background-color: #0B0A08; /* Oatmeal black - primary background */
}

@variant dark {
  &:where(.dark, .dark *) {
    @slot;
  }

  @media (prefers-color-scheme: dark) {
    &:where(.system, .system *) {
      @slot;
    }
  }
}

@variant not-dark {
  &:not(:where(.dark, .dark *)) {
    @media not (prefers-color-scheme: dark) {
      @slot;
    }

    &:not(:where(.system, .system *)) {
      @slot;
    }
  }
}

/* Minimal Custom Scrollbar - Oatmeal Theme */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: #A8A29E; /* Oatmeal stone */
  border-radius: 3px;
}

.dark ::-webkit-scrollbar-thumb {
  background: #2B2922; /* Oatmeal olive */
}

::-webkit-scrollbar-thumb:hover {
  background: #E7E5E4; /* Oatmeal white */
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: #A8A29E; /* Oatmeal stone */
}

/* Firefox scrollbar - minimal */
* {
  scrollbar-width: thin;
  scrollbar-color: #A8A29E transparent;
}

.dark * {
  scrollbar-color: #2B2922 transparent;
}

/* Hide scrollbar for Chrome, Safari and Opera */
.no-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Hide scrollbar for IE, Edge and Firefox */
.no-scrollbar {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}

/* Line numbers for code examples */
.with-line-numbers {
  code {
    counter-reset: line;
    position: relative;
  }

  .line {
    counter-increment: line;
    margin-left: --spacing(9);

    @media (width <= theme(--breakpoint-sm)) {
      margin-left: 0;
    }

    &::before {
      position: absolute;
      left: 0;
      content: counter(line);
      width: --spacing(6);
      text-align: right;
      user-select: none;
      display: inline-block;
      color: color-mix(in oklab, var(--color-slate-50) 40%, transparent);
      font-family: theme(--font-mono);

      @media (width <= theme(--breakpoint-sm)) {
        display: none;
      }
    }
  }
}

@utility line-t {
  @apply relative before:absolute before:top-0 before:-left-[100vw] before:h-px before:w-[200vw];
  &:before {
    background: color-mix(in oklab, var(--color-yaka-darkest) 10%, transparent);
  }
  .dark &:before {
    background: color-mix(in oklab, var(--color-yaka-lighter) 15%, transparent);
  }
}

@utility line-b {
  @apply relative after:absolute after:bottom-0 after:-left-[100vw] after:h-px after:w-[200vw];
  &:after {
    background: color-mix(in oklab, var(--color-yaka-darkest) 10%, transparent);
  }
  .dark &:after {
    background: color-mix(in oklab, var(--color-yaka-lighter) 15%, transparent);
  }
}

@utility line-y {
  @apply relative;
  @apply before:absolute before:top-0 before:-left-[100vw] before:h-px before:w-[200vw];
  @apply after:absolute after:bottom-0 after:-left-[100vw] after:h-px after:w-[200vw];
  &:before, &:after {
    background: color-mix(in oklab, var(--color-yaka-darkest) 10%, transparent);
  }
  .dark &:before, .dark &:after {
    background: color-mix(in oklab, var(--color-yaka-lighter) 15%, transparent);
  }
}

@utility line-t/half {
  @apply relative before:absolute before:top-0 before:right-0 before:h-px before:w-screen;
  &:before {
    background: color-mix(in oklab, var(--color-yaka-darkest) 10%, transparent);
  }
  .dark &:before {
    background: color-mix(in oklab, var(--color-yaka-lighter) 15%, transparent);
  }
}

@utility line-b/half {
  @apply relative after:absolute after:right-0 after:bottom-0 after:h-px after:w-screen;
  &:after {
    background: color-mix(in oklab, var(--color-yaka-darkest) 10%, transparent);
  }
  .dark &:after {
    background: color-mix(in oklab, var(--color-yaka-lighter) 15%, transparent);
  }
}

@utility line-y/half {
  @apply relative;
  @apply before:absolute before:top-0 before:right-0 before:h-px before:w-screen;
  @apply after:absolute after:right-0 after:bottom-0 after:h-px after:w-screen;
  &:before, &:after {
    background: color-mix(in oklab, var(--color-yaka-darkest) 10%, transparent);
  }
  .dark &:before, .dark &:after {
    background: color-mix(in oklab, var(--color-yaka-lighter) 15%, transparent);
  }
}
